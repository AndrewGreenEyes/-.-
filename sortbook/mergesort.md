## –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ª–∏—è–Ω–∏–µ–º

–°–ª–∏—è–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –∫–∞–∫ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ. –°–Ω–∞—á–∞–ª–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∞ –ø–æ—Ç–æ–º –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ —Ç–µ—Ö –ø–æ—Ä –ø–æ–∫–∞ –≤ –Ω—ë–º 2 —á–∞—Å—Ç–∏ –Ω–µ –±—É–¥—É—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —ç—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å –æ–±—ä–µ–¥–µ–Ω—è–µ–º —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç –±–æ–ª—å—à–µ –ø–µ—Ä–≤–æ–≥–æ –µ—Å–ª–∏ –¥–∞ —Ç–æ –º–µ–Ω—è–µ–º –∏—Ö –º–µ—Å—Ç–∞–º–∏ –∏ —Ç.–¥. –ü—Ä–æ—Ç–æ–∫–æ–ª —Ä–∞–±–æ—Ç–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –Ω–∞ —Å–ø–∏—Å–∫–µ {5, 1, 4, 2, 3}: –ü—Ä–æ—Ç–æ–∫–æ–ª mergesort: [5, 1] mergesort: [5]

```mergesort
	mergesort:  [1]
		Merge[In]:  [5] [1]
		Merge[Out]:  [1, 5]


mergesort:  [4, 2, 3]
	mergesort:  [4]

	mergesort:  [2, 3]
		mergesort:  [2]

		mergesort:  [3]
			Merge[In]:  [2] [3]
			Merge[Out]:  [2, 3]

		Merge[In]:  [4] [2, 3]
		Merge[Out]:  [2, 3, 4]

	Merge[In]:  [1, 5] [2, 3, 4]
	Merge[Out]:  [1, 2, 3, 4, 5]
```

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:

```python
def slianye(a, b):
    result = []
    i = 0
    j = 0
    sizeA = len(a)
    sizeB = len(b)
    while i < sizeA and j < sizeB:
        if a[i] <= b[j]:
            result.append(a[i])
            i += 1
        else:
            result.append(b[j])
            j += 1
    result.extand(a[i:])
    result.extend(b[j:])
    return result

def slianyeSort(liston):
    if len(liston) <= 1:
        return liston
    k = len(liston) // 2
    return slianye(slianyeSort(liston[:k]), slianyeSort(liston[k:]))
```

–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ª–∏—è–Ω–∏–µ–º –æ–¥–Ω–∞ –∏–∑ –±—ã—Å—Ç—Ä—ã—Ö —Å–æ—Ä—Ç–∏—Ä–æ–≤–æ–∫ –ó–∞ –û(ùëÅ‚àóùëôùëúùëîùëÅ) –ê —Ç–µ–ø–µ—Ä—å —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–µ—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —ç—Ç–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏. –¢–µ–ø–µ—Ä—å —Å–¥–µ–ª–∞–µ–º —Ç–∞–∫: –ü—É—Å—Ç—å –º—ã –±—É–¥–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –∫–∞–∫–æ–º—É-—Ç–æ –∫–ª—é—á—É. –ù–∞–ø—Ä–∏–º–µ—Ä –ø–æ –µ–≥–æ –æ—Å—Ç–∞—Ç–∫—É –æ—Ç –¥–µ–ª–µ–Ω–∏—è. –¢–æ–≥–¥–∞ —Å–¥–µ–ª–∞–µ–º —Ç–∞–∫:

```python
def sky(a):return a
STDKEY = sky
def slianye(a, b, key):
    result = []
    i = 0
    j = 0
    sizeA = len(a)
    sizeB = len(b)
    while i < sizeA and j < sizeB:
        # a[i] <= b[j]
        if key(a[i]) <= key(b[j]):
            result.append(a[i])
            i += 1
        else:
            result.append(b[j])
            j += 1
    result.extand(a[i:])
    result.extend(b[j:])
    return result
def slianyeSort(liston, key=STDKEY):
    if len(liston) <= 1:
        return liston
    k = len(liston) // 2
    return slianye(slianyeSort(liston[:k]), slianyeSort(liston[k:], key))
```
–ö–æ–¥ –ø–æ —á–µ–º—É —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–ª—é—á. –¢–∞–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ—á—Ç–∏ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ Python. –ê –≤–æ—Ç –≤ –≤ –°++ –Ω–µ —Ç–∞–∫. –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–∞–∫ –≤ C++ —Ç–æ–≥–¥–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≥–ª—è–¥–µ–ª–∞ —Ç–∞–∫:

```python
def sky(a):return True
STDKEY = sky

def slianye(a, b, comparetor):
    result = []
    i = 0
    j = 0
    sizeA = len(a)
    sizeB = len(b)
    while i < sizeA and j < sizeB:
        # a[i] <= b[j]
        if comparetor(a[i], b[j]):
            result.append(a[i])
            i += 1
        else:
            result.append(b[j])
            j += 1
    result.extand(a[i:])
    result.extend(b[j:])
    return result

def slianyeSort(liston, comparetor=STDKEY):
    if len(liston) <= 1:
        return liston
    k = len(liston) // 2
    return slianye(slianyeSort(liston[:k]), slianyeSort(liston[k:], comparetor))
```

–í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ —Ç–∞–∫–æ–π –∫–ª—é—á –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–æ–º. –ó–∞–º–µ—Ç–∏–º —á—Ç–æ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç booleanType —Ç.–µ. True –∏–ª–∏ False. –ò–Ω–∞—á–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–æ–∂–µ—Ç –≤—ã–¥–∞—Ç—å –æ—à–∏–±–∫—É.

–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤ Python —ç—Ç–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ª–∏—è–Ω–∏–µ–º –≥–¥–µ —Å–ª–∏—è–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –º–µ—Ç–æ–¥–æ–º –≤—Å—Ç–∞–≤–æ–∫. –í C++ —Ç–µ–ø–µ—Ä—å —Ç–∞–∫–∞—è –∂–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞. –ù–æ –µ—Å—Ç—å —Ç–∞–∫–∞—è —Ç–æ–Ω–∫–æ—Å—Ç—å - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –µ—Å–ª–∏ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä –≤–æ–∑—Ä–∞—â–∞–µ—Ç False —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–∞–∫ –ø–æ–ø–∞–ª–æ! –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–π —à—Ç—É–∫–∏ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–¥ —Ç–∞–∫: 

–ö–æ–¥ –°++

```cpp
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

// –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π

int main(){
    // –æ–ø–µ—Ä–∞—Ü–∏–∏
    stable_sort(—Å–ø–∏—Å–æ–∫.begin(), —Å–ø–∏—Å–æ–∫.end(), comparatorfun);
    // –æ–ø–µ—Ä–∞—Ü–∏–∏
    return 0;
}
```
